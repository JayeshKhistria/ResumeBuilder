<section id="dashboard" class="p-5 bg-light">
  <div class="container card shadow bg-danger w-50 p-5 border-0">
    <div class="row">
      <div class="">
        <div class="card-body">
          <h1 class="card-title h1 text-light text-center">Admin User Info</h1>
          <!-- <p class="card-text">Welcome To MyResume Dashboard </p> -->
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item bg-light">Fullname : {{ adminData.fullname }}</li>
          <li class="list-group-item bg-light">Username : {{ adminData.username }}</li>
          <li class="list-group-item bg-light">Password : {{ adminData.password }}</li>
          <li class="list-group-item bg-light">Gender : {{ adminData.gender }}</li>
          <li class="list-group-item bg-light">Address : {{ adminData.address }}</li>
          <li class="list-group-item bg-light">Mobile : {{ adminData.mobile }}</li>
        </ul>
        <div class="card-body">
          <!-- <a href="#" class="card-link">Card link</a> -->
          <!-- <a href="#" class="card-link">Another link</a> -->
          <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal"
            data-bs-target="#updateAdminModal">
            Update Request
          </button>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Button trigger modal -->
<!-- <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#updateUserModal">
  Click To Update User
</button> -->

<!-- Modal -->
<section id="modal">
  <div class="modal fade" id="updateAdminModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Update User Data</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">

          <form #registerForm="ngForm" (ngSubmit)="updateUser(registerForm)" class="mt-3">

            <input type="text" [(ngModel)]="adminData.fullname" class="form-control" placeholder="Enter Your Fullname"
              name="fullname" #fullname="ngModel" required="required" />
            <small class="text-danger mt-0" *ngIf="!fullname.valid && fullname.touched">Please Enter Your
              FullName</small>

            <input type="text" [(ngModel)]="adminData.username" class="form-control mt-3"
              placeholder="Enter Your Username" name="username" #username="ngModel" required="required" readonly />
            <small class="text-danger mb-5">*note : You can not change your username</small>
            <!-- <small class="text-warning mt-0" *ngIf="!username.valid && username.touched">Please Enter Your Name</small> -->

            <input type="text" [(ngModel)]="adminData.password" name="password" class="form-control mt-3"
              placeholder="Enter Your Password" required="required" #password="ngModel" minlength="4" maxlength="8" />
            <small class="text-danger" *ngIf="password.touched && password.errors?.['required']">Please Enter Your
              Password<br></small>
            <small class="text-danger"
              *ngIf="!password.valid && password.errors?.['minlength'] || password.errors?.['maxlength']">Enter Password
              with length 4-8<br></small>

            <input type="radio" [(ngModel)]="adminData.gender" name="gender" value="Male" class="mt-3" />
            <span class="text-dark">&emsp;Male</span>

            <input type="radio" [(ngModel)]="adminData.gender" name="gender" value="Female" class="mt-3 ms-5" /><span
              class="text-dark">&emsp;Female</span>

            <input type="text" [(ngModel)]="adminData.address" name="address" class="form-control mt-3"
              placeholder="Enter Your Address" required="required" #address="ngModel" />
            <small class="text-danger" *ngIf="!address.valid && address.touched">Please Enter Your address</small>

            <input type="text" [(ngModel)]="adminData.mobile" name="mobile" class="form-control mt-3"
              placeholder="Enter Your Mobile" required="required" #mobile="ngModel" pattern="^[0-9]{10}$" minlength="10"
              maxlength="10" />
            <small class="text-danger" *ngIf="mobile.touched && mobile.errors?.['required']">Please Enter Your
              Mobile</small>
            <small class="text-danger" *ngIf="!mobile.valid && mobile.errors?.['pattern']">Enter 10 Digit Mobile
              Number</small>

            <br>
            <button type="submit" class="btn btn-outline-danger mt-3" data-bs-dismiss="modal"
              [disabled]="!registerForm.valid">Update</button>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
          <!-- <button type="button" class="btn btn-primary" data-bs-dismiss="modal">updateUser</button> -->
        </div>
      </div>
    </div>
  </div>
</section>






<section id="userData">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <table class="table text-center">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Fullname</th>
              <th scope="col">Username</th>
              <th scope="col">Password</th>
              <th scope="col">Gender</th>
              <th scope="col">Address</th>
              <th scope="col">Mobile</th>
              <th scope="col" colspan="2">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of __api.userData">
              <th scope="row">{{ item.uaid }}</th>
              <td>{{ item.fullname }}</td>
              <td>{{ item.username }}</td>
              <td>{{ item.password }}</td>
              <td>{{ item.gender }}</td>
              <td>{{ item.address }}</td>
              <td>{{ item.mobile }}</td>
              <td>
                <button class="btn btn-outline-danger w-100" (click)="resumeDelete(item.uaid)">Resume
                  Delete</button>
              </td>
              <td>
                <button class="btn btn-outline-danger w-100" (click)="delete(item.uaid)">Delete</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>
